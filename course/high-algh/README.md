# 在线算法
## 问题定义
存在长宽高为length(l), width(w), height(h)的3维空间，将连续给出的一组货物存入空间，求使得空间利用率最高的算法。  
- 第i个货物的长宽高为i_l, i_w, i_h。
- 第i个货物放入后，空间利用率为Σ(i_v)/(l\*w\*h)
## 思路
### 如何描述状态空间
算法的关键在于描述三维空间在某一时间断面的状态，即放入货物i后的空间占用及空闲状态。  
可以使用二维数组+一维高度的形式描述状态空间。  
即将对于长宽高均为5的状态空间，在起始时表示为：
```
{
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
}
```
以数组原点作为空间原点，优先在靠近坐标原点处放置货物，则在放入货物(2, 3, 4)后，空间可以表示为：
```
{
    1, 1, 1, 5, 5,
    1, 1, 1, 5, 5,
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
    5, 5, 5, 5, 5,
}
```
### 如何进行状态转移
对于第i个货物(i_l, i_w, i_h)，要找到空间中的一片位置可以放置它，即在space中找到(i_l, i_w)大小的矩阵，矩阵内部的所有元素均大于i_h。  
由于货物是在线给出的，且规模远大于空间大小，故只要满足上述条件，无需考虑空间潜力。
## Requirements
```
python>=3.8
numpy
```
## Usage
```
# 随机生成货物输入，这里生成空间100*100*100下，小数点后2位的货物，即生成10000*10000*10000下的整数范围货物。
# 要求货物总体积远大于空间体积，不妨在1~1000（0.01~10）为边长，单位货物体积期望为500*500*500，生成10倍于空间总体积的货物。
# 即1e4*1e4*1e4/(500*500*500)*10=80000个货物
python tool/static.py

# 测试
python solution/3d-map.py
```
## 性能
## 性能瓶颈