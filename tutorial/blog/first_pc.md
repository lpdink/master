# 记第一次装机：选型，购买与组装测试

虽然是计算机的学生，但是此前一直使用着笔记本。之前的主力机是一台华硕天选1，amd4800H，RTX2060-6G-90W，20年3月购买的，高强度用了3年，表现还可以（不过QLC的SSD已经85%残血了）。遗憾的是残血2060的6G显存，1980个流处理器对专业学习来说实在是不够。

（是的，新装机主要还是为专业考虑。打游戏还是继续用xsx了，那个能4K。）

这是第一次装机，此前自己对硬件也不很懂，在百度贴吧图拉丁吧和显卡吧蹲了几天，刷贴研究，看B站装机猿，硬件茶谈的视频，小有心得。值此新机组装完成之际，写成博客与大家分享。

也很欢迎大家就本文涉及的所有内容，包括硬件配置、动手装机等等与我讨论。

本文的适合读者：

- 对PC硬件配置，DIY主机感兴趣的朋友（出于专业生产力考虑，或出于3A游戏考虑）

---

## 目录

1. [硬件选型](#硬件选型)：如何在 **预算有限** 的条件下配置一台入门级的 **深度学习/2k游戏主机** ？
2. [硬件购买](#硬件购买)：多多，淘宝，京东，怎么买**划算**？
3. [组装与测试](#组装与测试)：如何快速判断到手的硬件没毛病？组装起来的电脑能正常**稳定工作**？

---

## 硬件选型

> 如何在 **预算有限** 的条件下配置一台入门级的 **深度学习/2k游戏主机** ？

本次我给到的预算是5000-6000元（不含显示器），期望配置一台入门级别的，用于深度学习训练的主机。  

由于深度学习的任务特点，大家知道，它对显卡的要求很高，对显存也非常看重，显存够不够大，很多情况下决定了你的模型能不能训练，或者你训练时的batch_size能开到多少，batch_size太小，你模型收敛不了，要开梯度累计，那又要改代码，比较麻烦。

在显卡品牌上，目前amd的生态支持还不甚理想，CUDA护城河太深，你只能选nvidia的卡，所以说和amd yes说拜拜吧，没办法。

CPU不能太弱，多核性能要过关，这样我们在开多worker载入数据时比较舒服，但太强了也没啥用，你不会用CPU来训模型的，打游戏时也是显卡比较关键，所以CPU可以省一省（3A游戏，网游会比较吃CPU）。

同时，当下在windows下利用WSL使用linux环境十分方便，但WSL的内存占用很高，因此我们也要有很大的内存。在你做一般开发，多开重型IDE时也会很有用。

外存必不可少，不然庞大的训练数据集没地方放。都放在SSD里太奢侈了，我们的预算不允许我们这么做，但是单纯放在机械硬盘里，小数据集的载入又太慢。因此这里需要SSD+大机械硬盘的选型。

总结来说：

- 预算大头给显卡，nvidia的，至少12GB显存，保证显存后，流处理器越多越好
- CPU可以省一省，比较看重多核性能
- 内存要32GB
- 外存选1T的SSD和至少2T的机械

---

### 显卡选择

在当下这个时间节点，nvidia家能满足12GB+左右显存的，按照发布时间排序：

| 显卡 | 显存 | 流处理器数量(cuda核心) | 价格（2023年4月） |
| --------| ------|------|---|
|GTX1080ti| 11 GB | 3584 |1077(二手)|
|RTX2080ti| 11 GB | 4352 |1750(二手)|
|RTX3060|   12 GB | 3584 |2300|
|RTX3080|   10 GB | 8704 |4000|
|RTX3080ti| 12 GB | 10240|5600|
|RTX4070ti| 12 GB | 7680 |6500|
|RTX4070| 12 GB | 5888 |4799（刚刚发布）|

有的小伙伴可能要问了，3090(ti)，4090，有24GB的显存，不是更适合作为深度学习的训练卡吗？  
说得很对，但是我们的预算只有5000出头，买一张这样的卡都不够，更不要说配整机了。  
有的小伙伴可能又要问了，那你为什么表中还有5000以上的3080ti和4070ti呢？  
说得很对，这里只是放出来，统计一下12GB显存附近的卡而已，顺带让大家看看可恶的老黄有多万恶。
有的小伙伴可能还会问，那我们可以选P40这样的专业卡呀，又便宜，显存又大。
说得很对，但这种卡合适价格的都是古早产品了，买到折腾环境十分困难，它们和表中的1080ti有类似的问题，太老，二手都属于被用了N年的那种，稳定性难以保证。（另外它们完全打不了游戏）

1080ti和2080ti都是二手，而且由于前两年数字货币的“挖矿”大潮，基本上现在市面上的都是矿渣了，稳定性堪忧，没有质保，而且不便宜，要1千多呢，买到用不了两天就太冤了。

3080以上对我们的需求来说又有点贵了，它的功耗不低，如果硬着头皮上，还要保证控制预算，电源和CPU的选择只能丐中丐中丐，十分危险，最好不要。另外，它只有10GB的显存，还是有点小。

所以看似我们有的选，其实我们没得选，所以 **我们选RTX3060-12GB**。3584个cuda核心确实比较感人，但是也勉勉强强吧，比我现在的2060的1980个核心有81%的提升了，不错了。我的建议是多跑一会儿，将就用用吧。

> 还是因为没有钱...(怨念ing...)

---

### CPU选择

显卡花掉了我们2300元的预算，CPU这边可以砍一砍，我们的期望是主板+CPU在1500元附近。

在这个价位段，我们的选择池是：

| CPU | 加速频率 | 核心数量 | 线程数量 | 板U价格|
| ----| ------- |------|---|---|
|amd Ryzen 5 5500| 4.2 GHz|6|12|850|
|amd Ryzen 5 5600| 4.4 GHz|6|12|1100|
|amd Ryzen 7 5700X| 4.6GHz|8|16|1500|
|intel i5-12100(f)| 4.3 GHz|4|8|1000|
|intel i5-12400(f)| 4.4 GHz|6|12|1400|
|intel i5-13400(f)| 4.6 GHz|10|16|2148|

对于非网游或其他吃CPU的生产力需求，这里选Ryzen 5 5500真的很合适，因为它真的，太便宜了！而且性能也不是那么弱，绝对够日常使用，它的性能大约与我之前使用的笔记本接近。  

鉴于我们的预算在1500附近，可以让CPU不那么丐，从理智上说，选择Ryzen 7 5700X是最好的，4.6GHz的加速频率很不错，8核16线程足够我们的并发进程使用。  

但是啊，但是，我已经用了3年amd的CPU，虽然从来没出过岔子（除了在IOS课装黑苹果时有点折腾），但每天都有人告诉我intel的CPU更稳定。

现在，我必须考虑这是不是我，额，接下来几年唯一的机会，我还是按捺不住试试更高贵的intel的心情，选择了华硕H610M-A+intel 12400的主板和CPU。  

> 在写这个博客时，我已经装好机器并使用了一周左右了，我得承认，我有一点点后悔，我应该买5700x的。12400的性能虽然不弱，但是也并没有令我感到惊喜。不过，华硕的这个主板真的很不错，有四个RGB接口，很酷，我很满意。

---

### 内存，散热，固态，机械硬盘，电源

内存一般不会坏，所以选择丐中丐。这里选择了图拉丁吧老哥们最近最推荐的丐版内存 **金百达·三星颗粒**，2条16GB竟然只要318块，我哭死...

散热选择了注重性价比的利民120SE，12400的发热量不大，用这个散热器绝对压得住。  

固态同样选择了图吧老哥倾力推荐的凯侠RC20-1T，它的读写速度虽然不快，但是有高达1GB的缓存，性能表现更稳定，同时价格低廉。  

机械硬盘一般买2T就很足够了，奈何最近内存外存实在太便宜，价格低到我落泪，忍不住就买了海康威视4T的盘，380块，还是CMR，要啥自行车。  

省啥不能省电源，必须上一线品牌。宿舍有点限电，所以选择了长城金牌G6电源。本次选择的CPU+显卡+主板总功耗大约在400W，留余量考虑，购买500W的电源即可，但拼多多实在太便宜，忍不住买了650w的，权当给以后升级显卡留下空间吧...

> 事实证明，电源也是一个高危组件，不应该在多多买的。我有一一点点小翻车，接显卡的PCIE电源接口在用了一周后鼓包了，只能换一根线。

---

### 配置单

| 项目 | 产品 | 购买渠道|价格 |
| ----| ------- |------|-----|
| CPU | intel i5-12400(散片) | 拼多多 | 910 |
| 主板 | 华硕H610M-A | 拼多多| 544|
| 显卡 | 铭瑄RTX3060-12G电竞之心| 京东 |2320|
| 电源 | 长城G6金牌-650w| 拼多多 | 378 |
| 内存 | 金百达16G-3200MHz*2| 拼多多 | 318|
| 固态硬盘 | 凯侠RC20-1T| 拼多多| 318|
| 机械硬盘 | 海康威视4T-CMR| 拼多多 |388|
| CPU散热 | 利民120-SE | 拼多多 | 63 |
| 机箱风扇| 利民C12C-ARGB*2|拼多多|39|
| 无线网卡 | AX210 | 拼多多 | 85 |
| 机箱 | 先马平头哥M2| 京东 | 88 |
| 总价格| \ | \ | 5451 |

## 硬件购买

> 多多，淘宝，京东，怎么买**划算**？

高危产品用京东，其余全部拼多多，你看上面我的配置单购买渠道就知道了，多多是真的便宜啊，你别说有没有问题吧，就冲它普遍比京东便宜10-25%，我们就不应该质疑这个问题。。。

啥是高危产品？就是很容易出问题的部件啦。由于前两年的矿潮，很多显卡是翻新货，在多多买确实难以令人放心，还是在京东买，最大概率保证是新品吧...

> 一周后的我：电源也是高危产品！记得在京东买！

在多多购买，想买的比较便宜，也是有技巧的：

你需要先点击个人中心-多多果园/多多牧场，跟随它弱智的活动指引，不要相信它准备送你现金或者免费拿商品的活动，不要给亲友发砍一刀或者邀请链接，不要相信它会送你水果（也许这个真的会送）。总之点点浇水，打打斗地主，玩玩贪吃蛇，喂喂牛，然后它就会送你优惠券（有的力度非常大，比如500-100，1000-200，不过常见的是500-50，1000-100），然后你就可以买了，普遍比京东便宜10%-25%，取决于京东的产品有没有打折，非常可怕。

> 我得吐槽一下它的产品经理，你就不能直接把优惠券给我吗？你不会真以为我喜欢玩你的浇水游戏和斗地主吧，我晕。

为什么不在淘宝买？

因为平台政策的不同。京东因为是自营，售后的感觉非常良好，一旦出问题，绝对不多BB，当天上门取件，次天给你换新，很可怕。  
淘宝和多多的产品质量差不多，从售后上看，多多现在推行压榨商家，然后让利顾客的策略，让很多店家苦不堪言，消费者自然很爽了，只退款不退货（相当于白给你一个产品）的售后屡见不鲜，很可怕。相比之下，淘宝那边的小二更倾向于店家，比较喜欢和稀泥。

更重要的是，**多多更便宜**。

---

## 组装与测试

如何装机？其实是需要一定的动手能力的，这也是我第一次亲手组装一台PC，这里强烈推荐[B站硬件茶谈的装机视频](https://www.bilibili.com/video/BV1BG4y137mG)，手工3D制作，经费爆炸，不能更详尽了！他们自称是全网最好的装机教程。我得说，说的没错！
我们下载 [图吧工具箱](http://www.tbtool.cn/) 进行系统稳定性的测试，这里需要双烤CPU和显卡（即让CPU和显卡都高负荷运行一段时间，以测试系统稳定性）。  
图吧工具箱的使用，在工具箱内部就有视频教程，这里不赘述了。  
